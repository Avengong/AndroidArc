#

## 在pc上有：

adb客户端、adb服务进程。

adb客户端发出命令，如adb devices。 adb服务进程响应客户端的请求。 怎么响应通过tcp端口5037来响应。此时还在同一个设备上，因此没有涉及ip网络通信。

## 设备上

adbd守护进程，是由init进程启动，一开机就来起来了。负责与adb服务器连接。并且把设备信息传输给adb服务器。

adb服务器如何与设备的守护进程连接？？

### 通过usb的方式

### 通过tcp端口的方式

然后adb服务进程会连接远端设备。adb服务进程会扫描 5555端口到5558之间的端口。发现有adbd守护进程就连接该端口。 每一台设备会连接两个顺序的tcp端口。
一个是adb端口，一个是控制台端口。这两个端口连接的都是同一台设备。

因此，adb服务器与所有的设备建立连接。同时处理来自多个adb客户端的命令，因此，我们可以通过adb命令访问任意一台设备。

服务器与所有设备均建立连接后，您便可以使用 adb 命令访问这些设备。由于服务器管理与设备的连接，并处理来自多个 adb 客户端的命令，因此您可以从任意客户端（或从某个脚本）控制任意设备。

# usb与 WLAN的区别

usb是通过驱动程序来完成与设备的传输的。 WLAN则是通过ip地址来完成传输的。





